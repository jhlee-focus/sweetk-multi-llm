<!DOCTYPE html> <html lang="ko"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>SweetK ë©€í‹°LLM ì„œë¹„ìŠ¤</title> <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css"> <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script> <style> :root { --primary-color: #007bff; --bg-color: #f0f2f5; --container-bg: #ffffff; --sidebar-bg: #f8f9fa; --header-bg: #ffffff; --bot-bubble: #ffffff; --user-bubble: #007bff; --text-main: #1c1e21; --text-sub: #65676b; --border-color: #ebedf0; --input-bg: #f0f2f5; --sidebar-width: 260px; } [data-theme='dark'] { --bg-color: #18191a; --container-bg: #242526; --sidebar-bg: #1c1e21; --header-bg: #242526; --bot-bubble: #3a3b3c; --user-bubble: #007bff; --text-main: #e4e6eb; --text-sub: #b0b3b8; --border-color: #3e4042; --input-bg: #3a3b3c; } body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: var(--bg-color); margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; transition: background-color 0.3s ease; overflow: hidden; } .main-wrapper { width: 100%; max-width: 1400px; height: 95vh; display: flex; background: var(--container-bg); box-shadow: 0 12px 28px rgba(0,0,0,0.12); border-radius: 16px; overflow: hidden; margin: 10px; position: relative; } /* ì‚¬ì´ë“œë°” ì• ë‹ˆë©”ì´ì…˜ ë¡œì§ */ .sidebar { width: var(--sidebar-width); background: var(--sidebar-bg); border-right: 1px solid var(--border-color); display: flex; flex-direction: column; flex-shrink: 0; transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1); } .sidebar.collapsed { margin-left: calc(var(--sidebar-width) * -1); } .sidebar-header { padding: 20px; } .new-chat-btn { width: 100%; padding: 12px; background: var(--primary-color); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; } .history-list { flex: 1; overflow-y: auto; padding: 10px; display: flex; flex-direction: column; gap: 5px; } .history-item { position: relative; padding: 10px 35px 10px 10px; border-radius: 8px; cursor: pointer; font-size: 0.9rem; color: var(--text-main); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; } .history-item:hover { background: var(--input-bg); } .history-item.active { background: var(--input-bg); font-weight: 600; border: 1px solid var(--primary-color); } .delete-btn { position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--text-sub); cursor: pointer; font-size: 1.1rem; opacity: 0; } .history-item:hover .delete-btn { opacity: 1; } .delete-btn:hover { color: #ff4d4f; } .chat-container { flex: 1; display: flex; flex-direction: column; position: relative; min-width: 0; } .chat-header { padding: 10px 15px; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; justify-content: space-between; } .header-left { display: flex; align-items: center; gap: 10px; } #sidebar-toggle { background: none; border: none; cursor: pointer; font-size: 1.5rem; color: var(--text-main); padding: 5px; } .logo-img { height: 28px; width: auto; } #chat-messages { flex: 1; padding: 15px; overflow-y: auto; background-color: var(--bg-color); display: flex; flex-direction: column; gap: 20px; } /* ë§í’ì„  ìƒë‹¨ ëª¨ë¸ëª… ìŠ¤íƒ€ì¼ */ .msg-group { display: flex; flex-direction: column; gap: 4px; max-width: 85%; } .msg-group.bot { align-self: flex-start; } .msg-group.user { align-self: flex-end; align-items: flex-end; } .model-name { font-size: 0.75rem; color: var(--primary-color); font-weight: 600; padding-left: 5px; } .message { padding: 10px 15px; border-radius: 18px; font-size: 0.95rem; line-height: 1.5; color: var(--text-main); } .bot .message { background-color: var(--bot-bubble); border: 1px solid var(--border-color); border-bottom-left-radius: 4px; } .user .message { background-color: var(--user-bubble); color: white; border-bottom-right-radius: 4px; } .input-wrapper { position: relative; background: var(--container-bg); border-top: 1px solid var(--border-color); } .chat-input-area { padding: 15px 20px; display: flex; gap: 10px; align-items: center; } .plus-btn { width: 32px; height: 32px; border-radius: 50%; border: 1px solid var(--border-color); background: var(--input-bg); cursor: pointer; color: var(--text-sub); } #user-input { flex: 1; padding: 10px 15px; border-radius: 20px; border: 1px solid var(--border-color); outline: none; background: var(--input-bg); color: var(--text-main); } #send-btn { background: var(--primary-color); color: white; border: none; width: 38px; height: 38px; border-radius: 50%; cursor: pointer; } @media (max-width: 768px) { .sidebar { position: absolute; height: 100%; left: 0; top: 0; box-shadow: 10px 0 20px rgba(0,0,0,0.1); } .sidebar.collapsed { transform: translateX(-100%); margin-left: 0; } } </style> </head> <body> <div class="main-wrapper"> <div class="sidebar" id="sidebar"> <div class="sidebar-header"><button class="new-chat-btn" id="new-chat-btn">ï¼‹ ìƒˆ ì±„íŒ…</button></div> <div class="history-list" id="history-list"></div> </div> <div class="chat-container"> <div class="chat-header"> <div class="header-left"> <button id="sidebar-toggle">â˜°</button> <img src="sweetklogo.png" alt="SweetK Logo" class="logo-img"> <h2 style="margin:0; font-size:0.95rem; color:var(--text-main)">SweetK ë©€í‹°LLM ì„œë¹„ìŠ¤</h2> </div> <button id="theme-toggle-btn" style="background:var(--input-bg); border:none; padding:5px 10px; border-radius:15px; color:var(--primary-color); font-size:0.75rem; cursor:pointer;">ë‹¤í¬ëª¨ë“œ</button> </div> <div id="chat-messages"></div> <div id="loading" style="padding:10px 20px; font-size:0.8rem; color:var(--text-sub); display:none;">ìƒê° ì¤‘...</div> <div class="input-wrapper"> <div id="feature-badge" class="active-feature-tag" style="position:absolute; top:-30px; left:20px; background:var(--primary-color); color:white; font-size:0.7rem; padding:2px 8px; border-radius:10px; display:none;"> <span id="feature-name"></span> <span style="cursor:pointer" id="clear-feature">Ã—</span> </div> <div id="plus-menu" class="plus-menu" style="position:absolute; bottom:80px; left:20px; background:var(--container-bg); border:1px solid var(--border-color); border-radius:12px; display:none; flex-direction:column; width:150px; z-index:100; box-shadow:0 4px 15px rgba(0,0,0,0.1);"> <div class="plus-menu-item" style="padding:12px; cursor:pointer;" id="opt-research">ğŸ” ì‹¬ì¸µ ë¦¬ì„œì¹˜</div> <div class="plus-menu-item" style="padding:12px; cursor:pointer;" id="opt-imagen">ğŸ¨ ì´ë¯¸ì§€ ìƒì„±</div> </div> <div class="chat-input-area"> <button class="plus-btn" id="plus-btn">+</button> <select id="model-select" style="padding:8px; border-radius:8px; border:1px solid var(--border-color); background:var(--input-bg); color:var(--text-main);"> <option value="/gpt">GPT</option> <option value="/claude">Claude</option> <option value="/gemini">Gemini</option> <option value="/perplexity">Perp</option> <option value="/deepseek">Deep</option> </select> <input type="text" id="user-input" placeholder="ë©”ì‹œì§€ ì…ë ¥..." autocomplete="off"> <button id="send-btn">â¤</button> </div> </div> </div> </div> <script> window.onload = function() { const sidebar = document.getElementById('sidebar'); const sidebarToggle = document.getElementById('sidebar-toggle'); const chatMessages = document.getElementById('chat-messages'); const historyList = document.getElementById('history-list'); const userInput = document.getElementById('user-input'); const modelSelect = document.getElementById('model-select'); const sendBtn = document.getElementById('send-btn'); const themeBtn = document.getElementById('theme-toggle-btn'); const plusBtn = document.getElementById('plus-btn'); const plusMenu = document.getElementById('plus-menu'); let conversations = JSON.parse(localStorage.getItem('sweetk_chats') || '[]'); let currentChatId = null; let activeFeaturePrefix = ""; // 1. ì‚¬ì´ë“œë°” ë°˜ì‘í˜• ì„¤ì • ë° í† ê¸€ if (window.innerWidth <= 768) sidebar.classList.add('collapsed'); sidebarToggle.onclick = () => sidebar.classList.toggle('collapsed'); function init() { renderHistory(); if (conversations.length > 0) loadChat(conversations[0].id); else startNewChat(); } function renderHistory() { historyList.innerHTML = ''; conversations.forEach(chat => { const item = document.createElement('div'); item.className = `history-item ${chat.id === currentChatId ? 'active' : ''}`; item.textContent = chat.title; item.onclick = (e) => { if(e.target.className !== 'delete-btn') loadChat(chat.id); }; const delBtn = document.createElement('button'); delBtn.className = 'delete-btn'; delBtn.innerHTML = 'Ã—'; delBtn.onclick = (e) => { e.stopPropagation(); // 2. ì‚­ì œ í™•ì¸ ì°½ if(confirm("ì´ ëŒ€í™”ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) { conversations = conversations.filter(c => c.id !== chat.id); localStorage.setItem('sweetk_chats', JSON.stringify(conversations)); if(currentChatId === chat.id) startNewChat(); else renderHistory(); } }; item.appendChild(delBtn); historyList.appendChild(item); }); } function startNewChat() { currentChatId = Date.now(); chatMessages.innerHTML = '<div class="msg-group bot"><div class="message">ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?</div></div>'; renderHistory(); } function loadChat(id) { currentChatId = id; const chat = conversations.find(c => c.id === id); chatMessages.innerHTML = ''; chat.messages.forEach(m => addMessage(m.content, m.sender, false, m.model)); renderHistory(); } function addMessage(content, sender, shouldSave = true, modelName = null) { const group = document.createElement('div'); group.className = `msg-group ${sender}`; // 3. AI ë‹µë³€ ìƒë‹¨ ëª¨ë¸ëª… í‘œì‹œ if(sender === 'bot' && modelName) { const nameTag = document.createElement('div'); nameTag.className = 'model-name'; nameTag.textContent = modelName; group.appendChild(nameTag); } const div = document.createElement('div'); div.className = 'message'; div.innerHTML = sender === 'bot' ? marked.parse(content) : content; group.appendChild(div); chatMessages.appendChild(group); chatMessages.scrollTop = chatMessages.scrollHeight; if (shouldSave) { let chat = conversations.find(c => c.id === currentChatId); if (!chat) { chat = { id: currentChatId, title: content.substring(0, 15), messages: [] }; conversations.unshift(chat); } chat.messages.push({ sender, content, model: modelName }); localStorage.setItem('sweetk_chats', JSON.stringify(conversations)); renderHistory(); } } async function sendMessage() { const text = userInput.value.trim(); if (!text || sendBtn.disabled) return; const selectedModelName = modelSelect.options[modelSelect.selectedIndex].text; const fullPayload = `${modelSelect.value} ${activeFeaturePrefix} ${text}`.trim(); addMessage(text, 'user'); userInput.value = ''; document.getElementById('loading').style.display = 'block'; try { const res = await fetch('https://jhleefocus.app.n8n.cloud/webhook/d232c2f6-ea39-41e5-b310-c389eab49e06/chat', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ chatInput: fullPayload }), }); const data = await res.json(); addMessage(data.output || "ì‘ë‹µì´ ì—†ìŠµë‹ˆë‹¤.", 'bot', true, selectedModelName); } catch (err) { addMessage('ì—ëŸ¬ ë°œìƒ', 'bot', true, 'System'); } finally { document.getElementById('loading').style.display = 'none'; } } // í…Œë§ˆ ë° ë¶€ê°€ê¸°ëŠ¥ themeBtn.onclick = () => { const isDark = document.documentElement.getAttribute('data-theme') === 'dark'; document.documentElement.setAttribute('data-theme', isDark ? 'light' : 'dark'); themeBtn.textContent = isDark ? 'ë‹¤í¬ëª¨ë“œ' : 'ì¼ë°˜ëª¨ë“œ'; }; plusBtn.onclick = (e) => { e.stopPropagation(); plusMenu.style.display = plusMenu.style.display === 'flex' ? 'none' : 'flex'; }; document.onclick = () => plusMenu.style.display = 'none'; document.getElementById('opt-research').onclick = () => { activeFeaturePrefix = "*research"; document.getElementById('feature-badge').style.display = "flex"; document.getElementById('feature-name').textContent = "ì‹¬ì¸µ ë¦¬ì„œì¹˜"; }; document.getElementById('opt-imagen').onclick = () => { activeFeaturePrefix = "*imagen"; document.getElementById('feature-badge').style.display = "flex"; document.getElementById('feature-name').textContent = "ì´ë¯¸ì§€ ìƒì„±"; }; document.getElementById('clear-feature').onclick = () => { activeFeaturePrefix = ""; document.getElementById('feature-badge').style.display = "none"; }; sendBtn.onclick = sendMessage; userInput.onkeypress = (e) => { if (e.key === 'Enter') { e.preventDefault(); sendMessage(); } }; marked.setOptions({ breaks: true }); init(); }; </script> </body> </html>
